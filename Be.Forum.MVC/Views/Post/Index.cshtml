@model IEnumerable<Be.Forum.MVC.Models.PostViewModels.ListItemPostViewModel>

@inject UserManager<ApplicationUser> userManager

@*<p>
  <a asp-action="Create">Create New</a>
</p>*@
<table class="table">
  <thead>
    <tr>
      <th>
        @Html.DisplayNameFor(model => model.Title)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.Created)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.Updated)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.User)
      </th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    @foreach (var item in Model) {
      <tr>
        <td>
          <a asp-action="Details" asp-route-id="@item.Id">@Html.DisplayFor(modelItem => item.Title)</a>
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Created)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Updated)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.User)
        </td>
        <td>
          @if (userManager.GetUserId(User).Equals(item.UserId)) {
            <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> @:|
            <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>
          }
        </td>
      </tr>
    }
  </tbody>
</table>